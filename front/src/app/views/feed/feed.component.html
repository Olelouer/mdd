<div id="feedView">
    <cpn-header></cpn-header>

    <div class="container">
        @if (articles$ | async; as resolvedArticles) {
        @if (resolvedArticles.length > 0) {
        <div class="articles-list">
            @for (article of resolvedArticles; track article.id) {
            <mat-card class="article-card">
                <mat-card-header>
                    <mat-card-title>{{ article.title }}</mat-card-title>
                    <mat-card-subtitle>
                        Par {{ article.author?.username || 'Auteur inconnu' }} - Le {{ article.createdAt |
                        date:'dd/MM/yyyy
                        HH:mm' }}
                    </mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <p>{{ article.content | slice:0:200 }}{{ article.content.length > 200 ? '...' : '' }}</p>
                </mat-card-content>
            </mat-card>
            }
        </div>
        } @else {
        <div class="empty-feed">
            <p>Aucun article Ã  afficher pour le moment.</p>
        </div>
        }
        }
    </div>
</div>